---
import Layout from '../layouts/Layout.astro';
import { fetchAll } from '../lib/sanity';

const members = await fetchAll('teamMember');

const photoMap: Record<string, string> = {
  'Mark Crump': '/images/team/mark.png',
  'Spencer Lynch': '/images/team/spencer.png',
  'Jason Rogers': '/images/team/jason.png',
  'Andrew Davidson': '/images/team/andrew.png',
  'David Rich': '/images/team/david.png',
};
---

<Layout title="Team | pensionable.ai">
  <section class="hero-section bg-gradient-brand-soft">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Our Team</h1>
        <p class="text-xl text-grey">Meet the experts behind pensionable.ai's innovative pension management solutions</p>
      </div>
    </div>
  </section>

  <section class="section bg-gradient-light">
    <div class="container">
      <div class="grid md:grid-cols-2 gap-8">
        {members.map((member, i) => (
          <div class={`card ${i === members.length - 1 && members.length % 2 !== 0 ? 'md:col-span-2 md:max-w-[calc(50%-1rem)]' : ''}`}>
            <div class="flex flex-col md:flex-row gap-6">
              <div class="md:w-1/3">
                <div class="aspect-square bg-gradient-light rounded-lg overflow-hidden">
                  <img src={photoMap[member.name] || '/images/team/placeholder.png'} alt={`${member.name} - ${member.role}`} class="w-full h-full object-cover" />
                </div>
              </div>
              <div class="md:w-2/3">
                <div class="flex justify-between items-start mb-2">
                  <h3 class="text-2xl font-bold">{member.name}</h3>
                  {member.linkedinUrl && (
                    <a href={member.linkedinUrl} target="_blank" rel="noopener noreferrer" class="text-navy hover:text-purple transition-colors">
                      <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                    </a>
                  )}
                </div>
                <p class="text-purple font-medium mb-4">{member.role}</p>
                <p class="text-grey mb-4">{member.bio}</p>
                {member.expertise && member.expertise.length > 0 && (
                  <div>
                    <h4 class="font-bold mb-2">Areas of Expertise:</h4>
                    <div class="flex flex-wrap gap-2">
                      {member.expertise.map((exp: string) => (
                        <span class="bg-gradient-light px-3 py-1 rounded-full text-sm text-grey">{exp}</span>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl font-bold mb-6">Our Mission</h2>
        <div class="prose max-w-none text-grey">
          <p class="mb-4">At pensionable.ai, our mission is to transform pension administration through intelligent automation and AI-powered solutions. We're dedicated to bringing mathematical precision and clarity to the complex world of pension management.</p>
          <p>Our team combines deep industry expertise with cutting-edge technology to create innovative solutions that empower pension schemes, administrators, and members to make better decisions with confidence and ease.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <h2 class="text-3xl font-bold text-center mb-12">Our Values</h2>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="card text-center">
          <div class="text-purple text-4xl mb-4">•</div>
          <h3 class="text-xl font-bold mb-4">Innovation</h3>
          <p class="text-grey">Pushing boundaries with advanced AI and automated reasoning technology</p>
        </div>
        <div class="card text-center">
          <div class="text-purple text-4xl mb-4">•</div>
          <h3 class="text-xl font-bold mb-4">Precision</h3>
          <p class="text-grey">Delivering mathematical accuracy and eliminating ambiguity in pension management</p>
        </div>
        <div class="card text-center">
          <div class="text-purple text-4xl mb-4">•</div>
          <h3 class="text-xl font-bold mb-4">Trust</h3>
          <p class="text-grey">Building reliable, secure solutions for enterprise-grade pension management</p>
        </div>
      </div>
    </div>
  </section>

  <section class="section bg-gradient-brand text-white">
    <div class="container text-center">
      <h2 class="text-3xl font-bold mb-6 text-white">Join Our Team</h2>
      <p class="text-xl mb-8 opacity-90">We're always looking for talented individuals to help us transform pension management</p>
      <a href="/contact" class="btn bg-white text-navy hover:bg-white/90">View Open Positions</a>
    </div>
  </section>
</Layout>
