---
import Layout from '../layouts/Layout.astro';
import { fetchAll } from '../lib/sanity';

const stakeholders = await fetchAll('stakeholder');

const imageMap: Record<string, string> = {
  'Pension Scheme Trustees': '/images/stakeholders/CRO.jpg',
  'Pension Scheme Administrators': '/images/stakeholders/CA.jpg',
  'Insurance Companies': '/images/stakeholders/PA.jpg',
  'Pension System Providers': '/images/stakeholders/CTO.jpg',
};
---

<Layout title="Stakeholder Perspective | pensionable.ai" description="How pensionable.ai serves trustees, administrators, insurance companies, and pension system providers with tailored AI solutions.">
  <section class="hero-section bg-gradient-brand-soft">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Stakeholder Perspective</h1>
        <p class="text-xl text-grey">Discover how pensionable.ai addresses the unique needs of different organisational stakeholders</p>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="space-y-24">
        {stakeholders.map((stakeholder, i) => (
          <div class="relative">
            <div id={`stakeholder-${i + 1}`} class="absolute" style="top: -100px;"></div>
            <div class="card">
              <h2 class="text-3xl font-bold mb-8">{stakeholder.title}</h2>
              <div class="flex flex-col md:flex-row gap-8 mb-12">
                <div class="w-full md:w-1/2">
                  <h3 class="text-xl font-bold mb-6">Key Challenges</h3>
                  <ul class="space-y-4">
                    {stakeholder.challenges?.map((challenge: string) => (
                      <li class="flex items-start"><span class="text-purple mr-3">•</span><p class="text-grey">{challenge}</p></li>
                    ))}
                  </ul>
                </div>
                <div class="w-full md:w-1/2 h-96 flex-shrink-0 rounded-lg overflow-hidden order-first md:order-last">
                  <img src={imageMap[stakeholder.title] || ''} alt={stakeholder.title} class="w-full h-full object-cover" width="600" height="384" loading="lazy" />
                </div>
              </div>
              <div class="mb-12">
                <h3 class="text-xl font-bold mb-6">How pensionable.ai Helps</h3>
                <div class="grid md:grid-cols-3 gap-6">
                  {stakeholder.howWeHelp?.map((item: any) => (
                    <div class="bg-gradient-light rounded-lg p-6"><h4 class="text-lg font-bold mb-3">{item.title}</h4><p class="text-grey">{item.description}</p></div>
                  ))}
                </div>
              </div>
              <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div><h3 class="text-xl font-bold mb-4">Key Benefits</h3><ul class="space-y-3">{stakeholder.benefits?.map((b: string) => (<li class="flex items-start"><span class="text-purple mr-3">•</span><p class="text-grey">{b}</p></li>))}</ul></div>
                <div><h3 class="text-xl font-bold mb-4">Related Industry Issues</h3><ul class="space-y-3">{stakeholder.relatedIssues?.map((r: string) => (<li class="flex items-start"><span class="text-purple mr-3">•</span><p class="text-grey">{r}</p></li>))}</ul></div>
              </div>
              <div><h3 class="text-xl font-bold mb-6">Organisation Overview</h3><div class="bg-gradient-light rounded-lg p-6"><p class="text-grey">{stakeholder.overview}</p></div></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="section bg-gradient-brand text-white">
    <div class="container text-center">
      <h2 class="text-3xl font-bold mb-6 text-white">Ready to learn more?</h2>
      <p class="text-xl mb-8 opacity-90">Contact us to discuss how pensionable.ai can address your organization's specific needs</p>
      <a href="/contact" class="btn bg-white text-navy hover:bg-white/90">Get in Touch</a>
    </div>
  </section>
</Layout>
